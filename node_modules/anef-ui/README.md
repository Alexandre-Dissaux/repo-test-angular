# ANEF UI LIBRARY

Bibliothèque graphique : Thème ANEF PrimeNG + composants spécifiques ANEF

## Description

Cette bibliothèque permet de centraliser tous les composants constituants la charte graphique du projet ANEF (sur les différents portails agent et usager) pour garder une cohérence graphique sur les interfaces utilisateur.

Elle prend comme base la bibliothèque PrimeNG avec sa grande panoplie de composants et fournit un thème spécifique au programme ANEF à ces composants.

Cette bibliothèque est aussi destinée à proposer des composants personnalisés qui surchargent le comportement de PrimeNG ou bien qui implémentent de zéro des fonctionnalités absentes du catalogue PrimeNG.

En résumé, les composants de ce projet sont :

* theme : projet SASS structuré selon les guidelines de projet PrimeNG Designer
* anef-ui : projet Angular Library avec une API publique de composants personnalisés ANEF
* anef-ui-test: projet Angular Application fournissant un environnement de test et de démo pour la bibliothèque

## Getting Started

Cette bibliothèque est un node package constitué de 2 sous packages : thème et anef (angular project avec anef-ui + anef-ui-test)

### Dependencies

* PrimeNG (
[primeng](https://github.com/primefaces/primeng),
[primeicons](https://github.com/primefaces/primeicons),
[primeflex](https://github.com/primefaces/primeflex))
* Angular animations (@angular/animations)
* Angular CDK (@angular/cdk)
* Font Awesome ([font-awsome version 4](https://fontawesome.com/v4.7.0/))

> L'utilisation de anef-ui-lib ne nécessite pas de "PEER dependencies" toutes les dépendances au dessus sont transitives

### Installing

#### via Github

Pour installer la bibliothèque sur un projet Angular, il suffit de l'ajouter en dependance dans le  ``package.json``. Actuellement, elle est accessible qu'à partir de ce[repo github](https://github.com/Scille/anef-ui-lib). La biliothèque n'est pas packagée et publiée sur un dépôt NPM en l'abscence d'un dépôt MI accessible depuis les postes de dev.

```json
"dependencies": {
 ...
  "anef-ui": "https://github.com:Scille/anef-ui-lib.git#0.1.0"
 ...
}
```

> Pour des raisons techniques (problèmes à revoir plus tard pour une solution), la version de la bibliothèque sera gérée par TAG git pour ce type d'installation (repo github)

Lancer une installation avec :

```shell
npm install
```

> Il est possible que la commande `npm install` échoue si les credentials git ne sont pas enregistrés en local dans le terminal, pour le faire:

``` bash
git config --global user.name "<your github usernane>"
git config --global user.password "<your github pass>"
git config --global credential.helper store
```

#### via TAR

La bibliothèque peut aussi être packagée en fichier **TarBall** en utilisant ``npm pack`` dans le répertoire **dist** (racine du repo), et puis installée directement de cette archive. Cela peut s'avèrer utile par exemple, pour des besoins sur les chaînes de CI/CD.

```json
"dependencies": {
 ...
  "anef-ui": "file:path/to/tarfile"
 ...
}
```

Lancer une installation avec :

```shell
npm install
```

#### Configuration

Dans le fichier ``angular.json`` de votre projet. Dans la section
``[project] > architect > build > options > styles``

```json
...
"styles": [
  "node_modules/font-awesome/css/font-awesome.min.css",
  "node_modules/primeng/resources/primeng.min.css",
  "node_modules/primeflex/primeflex.css",
  "node_modules/primeicons/primeicons.css",
  "node_modules/anef-ui/theme/vendor/theme-nova.css",
  "node_modules/anef-ui/theme/theme.css",
  "src/styles.scss"
],
...
```

> Le thème ANEF est une surcharge au dessus du theme-nova (un des thèmes pas défaut de PrimeNG)... d'où l'inclusion d'une version allégée ``theme/anef/vendor/theme-nova.css``

### Usage

L'utilisation de cette bibliothèque est majoritairement documentée sur le [site de PrimeNG](https://www.primefaces.org/primeng). En effet la majorité des composants sont ceux de PrimeNG avec un thème. Néanmoins, il y'a des cas d'utilisation particulier :

* Bouton borderless :

```html
<button pButton class="ui-button-borderless" label="+ Texte button"></button>
```

* Spinner :

```html
<div class="spinnerBox">
 <div class="spinner type2"></div>
</div>
```

* Breadcrumb (surchargé) :

```html
<anef-breadcrumb prefix="Vous êtes ici : " [model]="bcItems"></anef-breadcrumb>
```

* Onglet (tabview):
Avec la case checked : Il faut ajouter la propriété ``headerStyleClass="withCheck"``
et pour que la case passé en vert ajouter ``"is-checked"``

```html
<p-tabView>
 <p-tabPanel headerStyleClass="withCheck is-checked" header="Onglet 2">
  The story begins as Don Vito Corleone, the head of a New York Mafia family,
 </p-tabPanel>
</p-tabView>
```

### To be continued

## Contributing

[See contributing](CONTRIBUTING.md)
